<div class="form-signin">
    <form class="text-center" [formGroup]="signupForm">
      <img class="" src="assets/icon-above-font.svg" alt="groupomania logo" width="150" height="150">

      <h1 class="h3 mb-3 fw-normal">Inscription</h1>

      <label for="inputName" class="visually-hidden">Nom de famille</label>
      <input type="text" id="inputName" class="form-control" placeholder="Nom de famille" formControlName="name">
      <div *ngIf="signupForm.invalid && signupForm.get('name').errors && (signupForm.get('name').dirty || signupForm.get('name').touched)">
        <small class="text-danger" *ngIf=" signupForm.get('name').hasError('required')">Vous devez renseigner votre nom</small>
      </div>

      <label for="inputFirstName" class="visually-hidden">Prénom</label>
      <input type="text" id="inputFirstName" class="form-control" placeholder="Prénom" formControlName="first_name">
      <div *ngIf="signupForm.invalid && signupForm.get('first_name').errors && (signupForm.get('first_name').dirty || signupForm.get('first_name').touched)">
        <small class="text-danger" *ngIf=" signupForm.get('first_name').hasError('required')">Vous devez renseigner votre prénom</small>
      </div>

      <label for="inputEmail" class="visually-hidden">Adresse Email</label>
      <input type="email" id="inputEmail" class="form-control" placeholder="Adresse email" formControlName="email">
      <div *ngIf="signupForm.invalid && signupForm.get('email').errors && (signupForm.get('email').dirty || signupForm.get('email').touched)">
        <small class="text-danger" *ngIf=" signupForm.get('email').hasError('required')">Vous devez renseigner une adresse email</small>
        <small class="text-danger" *ngIf=" signupForm.get('email').hasError('email')">Ceci n'est pas une adresse email</small>
      </div>

      <label for="inputPassword" class="visually-hidden">Mot de passe</label>
      <input type="password" id="inputPassword" class="form-control mt-3" placeholder="Mot de passe" formControlName="password">

      <label for="inputPasswordConfirm" class="visually-hidden">Confirmer mot de passe</label>
      <input type="password" id="inputPasswordConfirm" class="form-control" placeholder="Confirmer mot de passe" formControlName="password_confirm">

      <small class="text-danger" *ngIf="error">{{ error }}</small>

      <div  *ngIf="signupForm.invalid">
        <small class="text-danger" *ngIf="signupForm.get('password').errors && signupForm.get('password').hasError('minlength') && ((signupForm.get('password').dirty || signupForm.get('password').touched))">
          Le mot de passe doit contenir au minimum 6 caractères
        </small>
        <small class="text-danger" *ngIf="(signupForm.get('password').value != signupForm.get('password_confirm').value)
         && (signupForm.get('password_confirm').dirty || signupForm.get('password_confirm').touched) 
         && !signupForm.get('password').errors">
          Les mots de passe ne correspondent pas.
        </small>
      </div>

      <button class="w-100 btn btn-lg btn-dark mt-3" type="submit" [disabled]="signupForm.invalid" (click)="onSignup()">Valider l'inscription</button>
    </form>
  </div>